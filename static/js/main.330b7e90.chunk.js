(this["webpackJsonpcopyist-frontend"]=this["webpackJsonpcopyist-frontend"]||[]).push([[0],{25:function(e){e.exports=JSON.parse('{"SERVER_URL":"https://copyist-66925.uc.r.appspot.com","SELF_URL":"https://aklagoo.github.io/copyist-frontend"}')},53:function(e,t,s){},54:function(e,t,s){},86:function(e,t,s){},97:function(e,t,s){},98:function(e,t,s){},99:function(e,t,s){"use strict";s.r(t);var n=s(1),a=s.n(n),o=s(45),i=s.n(o),c=(s(53),s(7)),r=s(8),l=s(11),u=s(10),d=s(9),h=(s(54),s(48)),g=s(46),j=(s(86),s(19)),p=s.n(j),b=s(20),m=s(0),f=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(m.jsx)("div",{className:"Toolbar",children:Object(m.jsx)("button",{className:"ButtonToggleQR"+this.props.hiddenClass,onClick:this.props.toggleHiddenClass,children:Object(m.jsx)(p.a,{path:b.b,size:1})})})}}]),s}(a.a.Component),O=s(47),v=s.n(O),C=(s(97),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){return Object(c.a)(this,s),t.apply(this,arguments)}return Object(r.a)(s,[{key:"render",value:function(){return Object(m.jsxs)("div",{className:"QRBox"+this.props.hiddenClass,children:[Object(m.jsx)(v.a,{value:this.props.url,bgColor:"#FFFFFF",fgColor:"#444444"}),Object(m.jsx)("p",{children:"Scan the QR code to access the link."})]})}}]),s}(a.a.Component)),x=(s(98),function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).handleCopy=e.handleCopy.bind(Object(l.a)(e)),e}return Object(r.a)(s,[{key:"handleCopy",value:function(){navigator.clipboard.writeText(this.props.message)}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"TextBox",children:[Object(m.jsx)("textarea",{onChange:this.props.emitMessage,value:this.props.message}),Object(m.jsx)("div",{className:"TextBoxButtons",children:Object(m.jsxs)("button",{className:"ButtonCopy",onClick:this.handleCopy,children:[Object(m.jsx)(p.a,{path:b.a,size:.8})," Copy"]})})]})}}]),s}(a.a.Component)),y=s.p+"static/media/banner.edd50df5.svg",k=s(25),R=function(e){Object(u.a)(s,e);var t=Object(d.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).cookies=new h.a,e.state={message:"",roomID:e.getRoomID(),hiddenClass:" Hidden"},e.socket=null,e.emitMessage=e.emitMessage.bind(Object(l.a)(e)),e.toggleHiddenClass=e.toggleHiddenClass.bind(Object(l.a)(e)),e}return Object(r.a)(s,[{key:"toggleHiddenClass",value:function(){" Hidden"===this.state.hiddenClass?this.setState({hiddenClass:""}):this.setState({hiddenClass:" Hidden"})}},{key:"setRoomID",value:function(e){this.setState({roomID:e}),window.history.pushState({},document.title,k.SELF_URL+"/"+e);var t=new Date;t.setFullYear(t.getFullYear()+1),this.cookies.set("roomID",e,{sameSite:"none",secure:!0,maxAge:t.getTime()})}},{key:"getRoomID",value:function(){var e=window.location.pathname.substring(2),t=this.cookies.get("roomID");return""!==e?e:"undefined"!=typeof t?t:""}},{key:"getURLRoomID",value:function(){return window.location.pathname.substring(2)}},{key:"setMessage",value:function(e){this.setState({message:e})}},{key:"connect",value:function(e,t){var s=this,n=Object(g.io)(e,{query:{roomID:t}});return n.on("connected",(function(e){s.setRoomID(e.roomID),s.setMessage(e.message)})),n.on("update",(function(e){console.log("Lmao"),s.setMessage(e)})),n}},{key:"emitMessage",value:function(e){this.setState({message:e.target.value}),this.socket.emit("update",e.target.value)}},{key:"render",value:function(){return Object(m.jsxs)("div",{className:"App",children:[Object(m.jsx)(f,{hiddenClass:this.state.hiddenClass,toggleHiddenClass:this.toggleHiddenClass}),Object(m.jsxs)("main",{children:[Object(m.jsx)(C,{message:this.state.roomID,url:window.location.href,hiddenClass:this.state.hiddenClass}),Object(m.jsxs)("article",{children:[Object(m.jsx)("img",{className:"Banner",src:y,width:600,alt:""}),Object(m.jsx)(x,{emitMessage:this.emitMessage,message:this.state.message})]})]})]})}},{key:"componentDidMount",value:function(){var e=this;this.socket=this.connect(k.SERVER_URL,this.getRoomID()),setTimeout((function(){console.log(e.socket)}),3e3)}}]),s}(a.a.Component),D=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,100)).then((function(t){var s=t.getCLS,n=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;s(e),n(e),a(e),o(e),i(e)}))};i.a.render(Object(m.jsx)(a.a.StrictMode,{children:Object(m.jsx)(R,{})}),document.getElementById("root")),D()}},[[99,1,2]]]);
//# sourceMappingURL=main.330b7e90.chunk.js.map